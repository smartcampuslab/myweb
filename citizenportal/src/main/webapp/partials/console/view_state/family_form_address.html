<form role="form" name="form" >
   	
	<div class="panel panel-default" ng-show="!isLoadingAss" >
   		<div class="panel-heading">
    		<h3 class="panel-title"><strong>{{ 'fam_address_title' | i18n }}</strong></h3>
  		</div>
  		<div class="panel-body">
  			<table width="100%" ng_show="!edit_recapito">
	   			<tr>
					<td width="50%">{{ 'fam_address_name' | i18n }}: <strong>{{ recapito.nominativo }}</strong></td>
					<td width="50%">{{ 'fam_address_address' | i18n }}: <strong>{{ recapito.indirizzo }}</strong></td>
				</tr>
				<tr>
					<td>{{ 'fam_address_postal_code' | i18n }}: <strong>{{ recapito.cap }}</strong></td>
					<td>{{ 'fam_address_place' | i18n }}: <strong>{{ recapito.localita }}</strong></td>
				</tr>
				<tr>
					<td>{{ 'fam_address_municipality' | i18n }}: <strong>{{ getComuneById(recapito.comune,2) }}</strong></td>
					<td>{{ 'fam_address_mail' | i18n }}: <strong>{{ recapito.mail }}</strong></td>
				</tr>
				<tr>
					<td>{{ 'fam_address_phone' | i18n }}: <strong>{{ recapito.telefono }}</strong></td>
					<td>{{ 'fam_address_other_phone' | i18n }}: <strong>{{ recapito.altroTelefono }}</strong></td>
				</tr>
				<tr>
					<td colspan="2">{{ 'fam_address_note' | i18n }}: <strong>{{ recapito.note }}</strong></td>
				</tr>
	   		</table>
	   		<div ng_show="edit_recapito">
		   	<div class="form-group">
		    	<label for="recapito_nominativo">{{ 'fam_address_name' | i18n }}:</label>
			    <input id="recapito_nominativo" name="pRecNomin" type="text" class="form-control" ng-model="recapito.nominativo" required>
			    <div class="alert alert-danger" ng-show="form.pRecNomin.$error.required">{{ 'fam_address_error_name_required' | i18n }}</div>
		   	</div>
		   	<div class="form-group">
		    	<label for="recapito_indirizzo">{{ 'fam_address_address' | i18n }}:</label>
			    <input id="recapito_indirizzo" name="pRecIndirizzo" type="text" class="form-control" ng-model="recapito.indirizzo" required>
			    <div class="alert alert-danger" ng-show="form.pRecIndirizzo.$error.required">{{ 'fam_address_error_address_required' | i18n }}</div>
		   	</div>
		   	<div class="form-group">
		    	<label for="recapito_cap">{{ 'fam_address_postal_code' | i18n }}:</label>
			    <input id="recapito_cap" name="pRecCap" type="text" class="form-control" ng-model="recapito.cap" ng-pattern="onlyNumbers" ng-minlength="5" ng-maxlength="5" required>
		   		<div class="alert alert-danger" ng-show="form.pRecCap.$error.pattern">{{ 'fam_address_error_postal_code_not_number' | i18n }}</div>
		   		<div class="alert alert-danger" ng-show="form.pRecCap.$error.maxlength">{{ 'fam_address_error_postal_code_long' | i18n }}</div>
		   		<div class="alert alert-danger" ng-show="form.pRecCap.$error.minlength">{{ 'fam_address_error_postal_code_short' | i18n }}</div>
		   		<div class="alert alert-danger" ng-show="form.pRecCap.$error.required">{{ 'fam_address_error_postal_code_required' | i18n }}</div>
		   	</div>
		   	<div class="form-group">
		    	<label for="recapito_localita">{{ 'fam_address_place' | i18n }}:</label>
			    <input id="recapito_localita" name="pRecLocalita" type="text" class="form-control" ng-model="recapito.localita">
		   	</div>
		   	<div class="form-group">
		    	<label for="recapito_comune">{{ 'fam_address_municipality' | i18n }}:</label>
<!-- 			    <input id="recapito_comune" name="pRecComune" type="text" class="form-control" ng-model="recapito.comune" required> -->
			    <select id="recapito_comune" name="pRecComune" class="form-control" ng-options="l.idObj as l.descrizione for l in listaComuni" ng-model="recapito.comune" ng-change="updateCap(recapito.comune)">
					<option value="">{{ 'comp_fam_res_municipality_select' | i18n }}</option>
				</select>
			    <div class="alert alert-danger" ng-show="form.pRecComune.$error.required">{{ 'fam_address_error_municipality_required' | i18n }}</div>
		   	</div>
		   	<div class="form-group">
		    	<label for="recapito_mail">{{ 'fam_address_mail' | i18n }}:</label>
			    <input id="recapito_mail" name="pRecMail" type="text" class="form-control" ng-model="recapito.mail" ng-pattern="mailPattern" required>
			    <div class="alert alert-danger" ng-show="form.pRecMail.$error.pattern">{{ 'fam_address_error_mail' | i18n }}</div>
		   		<div class="alert alert-danger" ng-show="form.pRecMail.$error.required">{{ 'fam_address_error_mail_required' | i18n }}</div>
		   	</div>
		   	<div class="form-group">
		    	<label for="recapito_phone">{{ 'fam_address_phone' | i18n }}:</label>
			    <input id="recapito_phone" name="pRecPhone" type="text" class="form-control" ng-model="recapito.telefono" ng-pattern="phonePattern" required>
			    <div class="alert alert-danger" ng-show="form.pRecPhone.$error.pattern">{{ 'fam_address_error_phone' | i18n }}</div>
			    <div class="alert alert-danger" ng-show="form.pRecPhone.$error.required">{{ 'fam_address_error_phone_required' | i18n }}</div>
		   	</div>
		   	<div class="form-group">
		    	<label for="recapito_otherPhone">{{ 'fam_address_other_phone' | i18n }}:</label>
			    <input id="recapito_otherPhone" name="pRecOtherPhone" type="text" class="form-control" ng-model="recapito.altroTelefono" ng-pattern="phonePattern">
			    <div class="alert alert-danger" ng-show="form.pRecOtherPhone.$error.pattern">{{ 'fam_address_error_phone2' | i18n }}</div>
		   	</div>
		   	<div class="form-group">
		    	<label for="recapito_note">{{ 'fam_address_note' | i18n }}:</label>
			    <input id="recapito_note" name="pRecNote" type="text" class="form-control" ng-model="recapito.note">
		   	</div>
		   	</div>
			<table width="100%" ng-show="!edit_recapito">
				<tr>			
		   			<td></td>
		   			<td></td>
		   			<td align="right"><button type="button" class="btn btn-default" ng-click="edit_recapito_info()" alt="{{ 'fam_address_edit' | i18n }}" title="{{ 'fam_address_edit' | i18n }}"><i class="glyphicon glyphicon-pencil"></i></button></td>
		   		</tr>
   			</table>
		   	<table width="100%" ng-show="edit_recapito">
				<tr>			
		   			<td width="60%"></td>
		   			<td width="10%" align="center"><button type="button" class="btn btn-default" ng-click="hide_recapito_info()">{{ 'annulla_button_ric' | i18n }}</button></td>
		   			<td width="10%" align="center"><button type="button" class="btn btn-default" ng-disabled="{{ ngDisabledObj }}" ng-click="resetRec()">{{ 'comp_del_struct_button_create' | i18n }}</button></td>
		   			<td width="20%" align="center"><button type="button" class="btn btn-default" ng-disabled="{{ ngDisabledObj }}" ng-click="getRecFromRes()">{{ 'load_from_res_btn' | i18n }}</button></td>
		   			<td width="10%" align="center"><button type="button" class="btn btn-default" ng-click="save_address_info()">{{ 'save_button_ric' | i18n }}</button></td>
		   		</tr>
   			</table>
		</div>
   	</div>
   	<div class="panel panel-default" ng-show="isLoadingAss">
   		<div class="panel-heading">
    		<h3 class="panel-title"><strong>{{ 'fam_address_title' | i18n }}</strong></h3>
  		</div>
  		<div class="panel-body">
  			<div class="row" style="height: 90px; margin-top: 20px">
				<div style="text-align: center">
					<img src="img/ajax-loader.gif" width="40" height="40" /><br>
					<h3>LOADING...</h3>
				</div>
			</div>
  		</div>
  	</div>
	
	<table width="100%">
		<tr>			
   			<td><button type="button" class="btn btn-info" ng-click="prevTab()"><span class="glyphicon glyphicon-arrow-left">&nbsp;</span>{{ 'practice_goback_label' | i18n }}</button></td>
   			<td align="center"></td>
   			<td align="right"><button type="button" class="btn btn-info" ng-click="nextPSTab(form.$invalid, 7, null, null, null, null)">{{buttonNextLabel}}&nbsp;<span class="glyphicon glyphicon-arrow-right"></span></button></td>
   		</tr>
   	</table>	
</form>